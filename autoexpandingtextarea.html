<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<style>
html,body{height:100%}
body{background:#333;display:flex;align-items:center}
textarea{
display:block;
background-color:#777;
outline:none;
resize:none;
border:2px solid black;
box-sizing:padding-box;
overflow:hidden;
padding:4px;
width:90%;
font-size:14px;
margin:50px auto;
box-shadow:2px 2px 8px rgba(black, .3);
}
</style>
</head>
<body>
<textarea autofocus class='autoExpand' rows='3' data-min-rows='3' placeholder=''></textarea>
</body>
<script>
// Applied globally on all textareas with the "autoExpand" class
$(document)
.one('focus.autoExpand', 'textarea.autoExpand', function(){
var savedValue = this.value;
this.value = '';
this.baseScrollHeight = this.scrollHeight;
this.value = savedValue;
})
.on('input.autoExpand', 'textarea.autoExpand', function(){
var minRows = this.getAttribute('data-min-rows')|0, rows;
this.rows = minRows;
rows = Math.ceil((this.scrollHeight - this.baseScrollHeight) / 16);
this.rows = minRows + rows;
});
</script>
</html>
